#données
dico_num_station = {
0: 'Abbesses',
1: 'Alexandre Dumas',
2: 'Alma Marceau',
3: 'Alésia',
4: 'Anatole France',
5: 'Anvers',
6: 'Argentine',
7: 'Arts et Métiers',
8: 'Arts et Métiers',
9: 'Assemblée Nationale',
10: 'Aubervilliers-Pantin, Quatre Chemins',
11: 'Avenue Émile Zola',
12: 'Avron',
13: 'Barbès Rochechouart',
14: 'Barbès Rochechouart',
15: 'Basilique de Saint-Denis',
16: 'Bastille',
17: 'Bastille',
18: 'Bastille',
19: 'Bel Air',
20: 'Belleville',
21: 'Belleville',
22: 'Bercy',
23: 'Bercy',
24: 'Bibliothèque François Mitterand',
25: 'Billancourt',
26: 'Bir-Hakeim',
27: 'Blanche',
28: 'Bobigny, Pablo Picasso',
29: 'Bobigny-Pantin, Raymond Queneau',
30: 'Boissière',
31: 'Bolivar',
32: 'Bonne Nouvelle',
33: 'Bonne Nouvelle',
34: 'Botzaris',
35: 'Boucicaut',
36: 'Boulogne, Jean Jaurès',
37: 'Boulogne, Pont de Saint-Cloud, Rond Point Rhin et Danube',
38: 'Bourse',
39: 'Brochant',
40: 'Bréguet-Sabin',
41: 'Buttes Chaumont',
42: 'Buzenval',
43: 'Bérault',
44: 'Cadet',
45: 'Cambronne',
46: 'Campo-Formio',
47: 'Cardinal Lemoine',
48: 'Carrefour Pleyel',
49: 'Censier Daubenton',
50: 'Champs Élysées, Clémenceau',
51: 'Champs Élysées, Clémenceau',
52: 'Chardon Lagâche',
53: 'Charenton-Écoles',
54: 'Charles Michels',
55: 'Charles de Gaulle, Étoile',
56: 'Charles de Gaulle, Étoile',
57: 'Charles de Gaulle, Étoile',
58: 'Charonne',
59: "Chaussée d'Antin, La Fayette",
60: "Chaussée d'Antin, La Fayette",
61: "Chemin Vert",
62: "Chevaleret",
63: "Château Landon",
64: "Château Rouge",
65: "Château d'Eau",
66: "Château de Vincennes",
67: "Châtelet",
68: "Châtelet",
69: "Châtelet",
70: "Châtelet",
71: "Châtelet",
72: "Châtillon-Montrouge",
73: "Cité",
74: "Cluny, La Sorbonne",
75: "Colonel Fabien",
76: "Commerce",
77: "Concorde",
78: "Concorde",
79: "Concorde",
80: "Convention",
81: "Corentin Celton",
82: "Corentin-Cariou",
83: "Corvisart",
84: "Cour Saint-Émilion",
85: "Courcelles",
86: "Couronnes",
87: "Crimée",
88: "Croix de Chavaux",
89: "Créteil-Préfecture",
90: "Créteil-Université",
91: "Créteil-l'Echat, Hôpital Henri Mondor",
92: "Danube",
93: "Daumesnil",
94: "Daumesnil",
95: "Denfert Rochereau",
96: "Denfert Rochereau",
97: "Dugommier",
98: "Dupleix",
99: "Duroc",
100: "Duroc",
101: "Edgar Quinet",
102: "Esplanade de la Défense",
103: "Europe",
104: "Exelmans",
105: "Faidherbe-Chaligny",
106: "Falguière",
107: "Filles du Calvaire",
108: "Fort d'Aubervilliers",
109: "Franklin D. Roosevelt",
110: "Franklin D. Roosevelt",
111: "Félix Faure",
112: "Gabriel Péri, Asnières-Gennevilliers",
113: "Gaité",
114: "Galliéni",
115: "Gambetta",
116: "Gambetta",
117: "Gare d'Austerlitz",
118: "Gare d'Austerlitz",
119: "Gare de Lyon",
120: "Gare de Lyon",
121: "Gare de l'Est",
122: "Gare de l'Est",
123: "Gare de l'Est",
124: "Gare du Nord",
125: "Gare du Nord",
126: "Garibaldi",
127: "George V",
128: "Glacière",
129: "Goncourt",
130: "Grande Arche de la Défense",
131: "Guy Môquet",
132: "Havre Caumartin",
133: "Havre Caumartin",
134: "Hoche",
135: "Hôtel de Ville",
136: "Hôtel de Ville",
137: "Invalides",
138: "Invalides",
139: "Iéna",
140: "Jacques Bonsergent",
141: "Jasmin",
142: "Jaurès",
143: "Jaurès",
144: "Jaurès",
145: "Javel",
146: "Jourdain",
147: "Jules Joffrin",
148: "Jussieu",
149: "Jussieu",
150: "Kléber",
151: "La Chapelle",
152: "La Courneuve, 8 Mai 1945",
153: "La Fourche",
154: "La Motte Picquet, Grenelle",
155: "La Motte Picquet, Grenelle",
156: "La Motte Picquet, Grenelle",
157: "La Muette",
158: "La Tour-Maubourg",
159: "Lamarck Caulaincourt",
160: "Laumière",
161: "Le Kremlin-Bicêtre",
162: "Le Peletier",
163: "Ledru Rollin",
164: "Les Gobelins",
165: "Les Halles",
166: "Les Sablons",
167: "Liberté",
168: "Liège",
169: "Louis Blanc",
170: "Louis Blanc",
171: "Louise Michel",
172: "Lourmel",
173: "Louvre, Rivoli",
174: "Mabillon",
175: "Madeleine",
176: "Madeleine",
177: "Madeleine",
178: "Mairie d'Issy",
179: "Mairie d'Ivry",
180: "Mairie de Clichy",
181: "Mairie de Montreuil",
182: "Mairie de Saint-Ouen",
183: "Mairie des Lilas",
184: "Maison Blanche",
185: "Maisons-Alfort les Juilliottes",
186: "Maisons-Alfort, Stade",
187: "Malakoff-Plateau de Vanves",
188: "Malakoff-Rue Étienne Dolet",
189: "Malesherbes",
190: "Maraîchers",
191: "Marcadet Poissonniers",
192: "Marcadet Poissonniers",
193: "Marcel Sembat",
194: "Marx Dormoy",
195: "Maubert Mutualité",
196: "Michel Ange Auteuil",
197: "Michel Ange Auteuil",
198: "Michel Ange Molitor",
199: "Michel Ange Molitor",
200: "Michel Bizot",
201: "Mirabeau",
202: "Miromesnil",
203: "Miromesnil",
204: "Monceau",
205: "Montgallet",
206: "Montparnasse Bienvenue",
207: "Montparnasse Bienvenue",
208: "Montparnasse Bienvenue",
209: "Montparnasse Bienvenue",
210: "Mouton-Duvernet",
211: "Ménilmontant",
212: "Nation",
213: "Nation",
214: "Nation",
215: "Nation",
216: "Nationale",
217: "Notre Dame de Lorette",
218: "Notre-Dame-des-Champs",
219: "Oberkampf",
220: "Oberkampf",
221: "Odéon",
222: "Odéon",
223: "Opéra",
224: "Opéra",
225: "Opéra",
226: "Ourcq",
227: "Palais Royal, Musée du Louvre",
228: "Palais Royal, Musée du Louvre",
229: "Parmentier",
230: "Passy",
231: "Pasteur",
232: "Pasteur",
233: "Pelleport",
234: "Pernety",
235: "Philippe-Auguste",
236: "Picpus",
237: "Pierre Curie",
238: "Pigalle",
239: "Pigalle",
240: "Place Balard",
241: "Place Monge",
242: "Place d'Italie",
243: "Place d'Italie",
244: "Place d'Italie",
245: "Place de Clichy",
246: "Place de Clichy",
247: "Place des Fêtes",
248: "Place des Fêtes",
249: "Plaisance",
250: "Poissonnière",
251: "Pont de Levallois, Bécon",
252: "Pont de Neuilly",
253: "Pont de Sèvres",
254: "Pont-Marie",
255: "Pont-Neuf",
256: "Porte Dauphine",
257: "Porte Dorée",
258: "Porte Maillot",
259: "Porte d'Auteuil",
260: "Porte d'Italie",
261: "Porte d'Ivry",
262: "Porte d'Orléans",
263: "Porte de Bagnolet",
264: "Porte de Champerret",
265: "Porte de Charenton",
266: "Porte de Choisy",
267: "Porte de Clichy",
268: "Porte de Clignancourt",
269: "Porte de Montreuil",
270: "Porte de Pantin",
271: "Porte de Saint-Cloud",
272: "Porte de Saint-Ouen",
273: "Porte de Vanves",
274: "Porte de Versailles",
275: "Porte de Vincennes",
276: "Porte de la Chapelle",
277: "Porte de la Villette",
278: "Porte des Lilas",
279:" Porte des Lilas",
280: "Pré-Saint-Gervais",
281: "Pyramides",
282: "Pyramides",
283: "Pyrénées",
284: "Père Lachaise",
285: "Père Lachaise",
286: "Péreire",
287: "Quai de la Gare",
288: "Quai de la Rapée",
289: "Quatre Septembre",
290: "Rambuteau",
291: "Ranelagh",
292: "Raspail",
293: "Raspail",
294: "Rennes",
295: "Reuilly Diderot",
296: "Reuilly Diderot",
297: "Richard Lenoir",
298: "Richelieu Drouot",
299: "Richelieu Drouot",
300: "Riquet",
301: "Robespierre",
302: "Rome",
303: "Rue Montmartre, Grands Boulevards",
304: "Rue Montmartre, Grands Boulevards",
305: "Rue Saint-Maur",
306: "Rue de la Pompe",
307: "Rue des Boulets",
308: "Rue du Bac",
309: "Réaumur Sébastopol",
310: "Réaumur Sébastopol",
311: "République",
312: "République",
313: "République",
314: "République",
315: "République",
316: "Saint-Ambroise",
317: "Saint-Augustin",
318: "Saint-Denis-Porte de Paris",
319: "Saint-Denis-Université",
320: "Saint-Fargeau",
321: "Saint-Francois Xavier",
322: "Saint-Georges",
323: "Saint-Germain-des-Prés",
324: "Saint-Jacques",
325: "Saint-Lazare",
326: "Saint-Lazare",
327: "Saint-Lazare",
328: "Saint-Mandé, Tourelle",
329: "Saint-Marcel",
330: "Saint-Michel",
331: "Saint-Paul, Le Marais",
332: "Saint-Philippe du Roule",
333: "Saint-Placide",
334: "Saint-Sulpice",
335: "Saint-Sébastien-Froissart",
336: "Sentier",
337: "Simplon",
338: "Solférino",
339: "Stalingrad",
340: "Stalingrad",
341: "Stalingrad",
342: "Strasbourg Saint-Denis",
343: "Strasbourg Saint-Denis",
344: "Strasbourg Saint-Denis",
345: "Sully Morland",
346: "Sèvres Babylone",
347: "Sèvres Babylone",
348: "Sèvres Lecourbe",
349: "Ségur",
350: "Temple",
351: "Ternes",
352: "Tolbiac",
353: "Trinité d'Estienne d'Orves",
354: "Trocadéro",
355: "Trocadéro",
356: "Tuileries",
357: "Télégraphe",
358: "Vaneau",
359: "Varenne",
360: "Vaugirard",
361: "Vavin",
362: "Victor Hugo",
363: "Villejuif, Louis Aragon",
364: "Villejuif, Léo Lagrange",
365: "Villejuif, P. Vaillant Couturier",
366: "Villiers",
367: "Villiers",
368: "Volontaires",
369: "Voltaire",
370: "Wagram",
371: "École Militaire",
372: "École Vétérinaire de Maisons-Alf,ort",
373: "Église d'Auteuil",
374: "Église de Pantin",
375: "Étienne Marcel"
}

liens = [
[0, 238, 41], 
[0, 159, 46], 
[1, 12, 36], 
[1, 235, 44], 
[2, 110, 69], 
[2, 139, 50], 
[3, 262, 33], 
[3, 210, 41], 
[4, 171, 43], 
[4, 251, 35], 
[5, 13, 67], 
[5, 239, 54], 
[6, 55, 56], 
[6, 258, 46], 
[7, 290, 39], 
[7, 311, 79], 
[8, 350, 38], 
[8, 309, 58], 
[9, 338, 28], 
[9, 78, 62], 
[10, 277, 42], 
[10, 108, 36], 
[11, 154, 32], 
[11, 54, 41], 
[12, 213, 42], 
[13, 151, 57], 
[14, 124, 46], 
[14, 64, 28], 
[15, 318, 37], 
[15, 319, 73], 
[16, 119, 98], 
[16, 331, 62], 
[17, 288, 89], 
[17, 40, 41], 
[18, 61, 56], 
[18, 163, 32],
[19, 236, 31], 
[19, 93, 33], 
[20, 129, 48], 
[20, 283, 38], 
[21, 86, 46], 
[21, 75, 51], 
[22, 84, 39], 
[22, 120, 81], 
[23, 97, 35], 
[23, 287, 57], 
[24, 84, 51], 
[25, 193, 42], 
[25, 253, 35], 
[26, 98, 31], 
[26, 230, 64], 
[27, 239, 64], 
[27, 246, 59], 
[28, 29, 79], 
[29, 374, 46], 
[30, 354, 24], 
[30, 150, 44], 
[31, 41, 28], 
[31, 144, 36], 
[32, 343, 54], 
[32, 303, 41], 
[33, 344, 52], 
[33, 304, 41], 
[34, 248, 36], 
[34, 41, 57], 
[35, 111, 34], 
[35, 172, 40], 
[36, 198, 105], 
[36, 37, 39], 
[38, 336, 35], 
[38, 289, 38], 
[39, 153, 38], 
[39, 267, 46], 
[40, 297, 37], 
[42, 190, 42], 
[42, 215, 35], 
[43, 66, 41], 
[43, 328, 57], 
[44, 162, 54], 
[44, 250, 64], 
[45, 348, 43], 
[45, 155, 35], 
[46, 242, 63], 
[46, 329, 46], 
[47, 148, 46], 
[47, 195, 41], 
[48, 182, 66], 
[48, 318, 60], 
[49, 164, 42], 
[49, 241, 40], 
[50, 77, 54], 
[50, 109, 62], 
[51, 137, 62], 
[51, 202, 69], 
[52, 201, 20], 
[53, 372, 47], 
[53, 167, 33], 
[54, 145, 51], 
[55, 127, 60], 
[56, 351, 59], 
[56, 362, 75], 
[57, 150, 35], 
[58, 307, 31], 
[58, 369, 31], 
[59, 224, 72], 
[59, 162, 53], 
[60, 299, 63], 
[60, 133, 45], 
[61, 335, 28], 
[62, 287, 53], 
[62, 216, 48], 
[63, 123, 44], 
[63, 169, 57], 
[64, 192, 57], 
[65, 342, 41], 
[65, 121, 57], 
[67, 135, 87], 
[67, 173, 51], 
[68, 136, 85], 
[69, 120, 287], 
[69, 281, 131], 
[70, 73, 45], 
[70, 165, 66], 
[71, 254, 73],
[71, 255, 37], 
[72, 188, 52], 
[73, 330, 46], 
[74, 195, 44], 
[74, 221, 52], 
[75, 142, 93], 
[76, 156, 59], 
[76, 111, 30], 
[77, 356, 57], 
[78, 175, 41], 
[79, 177, 41], 
[79, 138, 71], 
[80, 274, 41], 
[80, 360, 49], 
[81, 178, 43], 
[81, 274, 43], 
[82, 87, 32], 
[82, 277, 47], 
[83, 243, 36], 
[83, 128, 49], 
[85, 204, 47], 
[85, 351, 46], 
[86, 211, 37], 
[87, 300, 43], 
[88, 181, 44], 
[88, 301, 47], 
[89, 90, 29], 
[90, 91, 26], 
[91, 185, 27], 
[92, 34, 37], 
[93, 97, 45], 
[94, 200, 27], 
[94, 205, 39], 
[95, 210, 48], 
[95, 292, 37], 
[96, 324, 52], 
[96, 293, 42], 
[98, 155, 69], 
[99, 358, 31], 
[99, 349, 54], 
[100, 207, 113], 
[100, 321, 59], 
[101, 293, 43], 
[101, 209, 36], 
[102, 252, 35], 
[102, 130, 37], 
[103, 327, 44], 
[103, 367, 30], 
[104, 199, 62], 
[104, 271, 40], 
[105, 296, 42], 
[105, 163, 47], 
[106, 231, 29], 
[106, 206, 36], 
[107, 335, 49], 
[107, 314, 49], 
[108, 152, 29], 
[109, 127, 59],
[110, 332, 37], 
[112, 180, 71], 
[113, 234, 36], 
[113, 207, 47], 
[114, 263, 72], 
[115, 263, 39], 
[115, 285, 70],
[116, 233, 50], 
[117, 148, 59], 
[118, 329, 60], 
[118, 288, 30], 
[119, 295, 41], 
[121, 124, 67], 
[122, 140, 103], 
[122, 125, 59], 
[123, 250, 51], 
[125, 340, 107], 
[126, 272, 37], 
[126, 182, 42], 
[128, 324, 42], 
[129, 311, 49], 
[131, 153, 72], 
[131, 272, 63], 
[132, 223, 68], 
[132, 327, 40], 
[133, 317, 49], 
[134, 270, 47], 
[134, 374, 53], 
[135, 331, 65], 
[136, 290, 73], 
[137, 359, 54], 
[138, 158, 57], 
[139, 355, 46], 
[140, 313, 47], 
[141, 291, 37], 
[141, 197, 49], 
[142, 339, 27], 
[143, 340, 29], 
[143, 160, 44], 
[144, 170, 46], 
[145, 373, 55], 
[146, 283, 33], 
[146, 247, 50], 
[147, 159, 44], 
[147, 191, 49], 
[149, 241, 57], 
[149, 345, 79], 
[151, 339, 93], 
[153, 245, 64], 
[154, 349, 33], 
[156, 371, 46], 
[157, 306, 36], 
[157, 291, 49], 
[158, 371, 66], 
[160, 226, 40], 
[161, 364, 28], 
[161, 184, 39], 
[164, 244, 60], 
[165, 375, 33], 
[166, 258, 38], 
[166, 252, 37], 
[167, 265, 31], 
[168, 326, 49], 
[168, 245, 28], 
[169, 341, 54], 
[171, 264, 49], 
[172, 240, 35], 
[173, 227, 34], 
[174, 221, 31], 
[174, 346, 72], 
[175, 325, 144],
[176, 281, 71], 
[177, 225, 88], 
[179, 237, 37], 
[180, 267, 91], 
[183, 278, 51], 
[184, 260, 31], 
[184, 352, 36], 
[185, 186, 26], 
[186, 372, 33],
[187, 188, 34], 
[187, 273, 46], 
[189, 367, 49], 
[189, 370, 35], 
[190, 269, 27], 
[191, 194, 67], 
[192, 337, 36], 
[193, 271, 38],  
[194, 276, 67],  
[196, 259, 47], 
[197, 199, 28], 
[198, 52, 42], 
[200, 257, 51], 
[201, 145, 46], 
[202, 326, 112],
[203, 317, 53], 
[203, 332, 40], 
[204, 366, 51], 
[205, 296, 38], 
[206, 218, 45], 
[208, 361, 42], 
[208, 333, 48], 
[209, 232, 54], 
[211, 284, 49], 
[212, 275, 86], 
[212, 295, 64], 
[214, 236, 42], 
[215, 307, 60], 
[216, 243, 55], 
[217, 353, 29], 
[217, 322, 37], 
[218, 294, 38], 
[219, 297, 50], 
[219, 313, 81], 
[220, 316, 35], 
[220, 315, 80], 
[222, 323, 42], 
[222, 330, 31], 
[223, 289, 43], 
[224, 282, 80], 
[225, 298, 75], 
[226, 270, 39], 
[227, 356, 38], 
[228, 255, 53], 
[228, 282, 49], 
[229, 305, 43], 
[229, 312, 64], 
[230, 354, 62], 
[231, 368, 40], 
[232, 348, 46], 
[233, 320, 33], 
[234, 249, 38], 
[235, 284, 44], 
[237, 261, 37], 
[238, 322, 27], 
[244, 352, 37], 
[246, 302, 37], 
[247, 357, 23], 
[248, 280, 57], 
[249, 273, 35], 
[254, 345, 75], 
[256, 362, 37], 
[257, 265, 26], 
[259, 198, 47], 
[259, 36, 84], 
[260, 266, 37], 
[261, 266, 46], 
[264, 286, 41], 
[268, 337, 39], 
[269, 301, 35], 
[275, 328, 41], 
[278, 357, 59], 
[279, 320, 37], 
[280, 92, 43], 
[285, 305, 61], 
[286, 370, 35], 
[292, 361, 38], 
[294, 347, 46], 
[298, 303, 46], 
[299, 304, 48], 
[300, 341, 46], 
[302, 366, 53], 
[306, 355, 33], 
[308, 347, 29], 
[308, 338, 33], 
[309, 336, 65], 
[310, 375, 28], 
[310, 342, 67], 
[312, 350, 37], 
[314, 343, 98], 
[315, 344, 107],
[316, 369, 27], 
[321, 359, 23], 
[323, 334, 47], 
[325, 353, 69], 
[333, 334, 32], 
[346, 358, 33], 
[360, 368, 47], 
[363, 365, 28], 
[364, 365, 28], 
[373, 196, 37], 
[7, 8, 180], 
[13, 14, 180], 
[16, 18, 240],
[16, 17, 240], 
[17, 18, 240], 
[20, 21, 180], 
[22, 23, 180], 
[32, 33, 180], 
[50, 51, 180], 
[55, 57, 240], 
[55, 56, 240], 
[56, 57, 240], 
[59, 60, 180], 
[67, 69, 300], 
[67, 68, 300], 
[67, 70, 300], 
[67, 71, 300], 
[68, 69, 300], 
[68, 70, 300], 
[68, 71, 300], 
[69, 70, 300], 
[69, 71, 300], 
[70, 71, 300], 
[77, 79, 240], 
[77, 78, 240], 
[78, 79, 240], 
[93, 94, 180], 
[95, 96, 180], 
[99, 100, 180], 
[109, 110, 180], 
[115, 116, 180],
[117, 118, 180],
[119, 120, 180], 
[121, 123, 240], 
[121, 122, 240], 
[122, 123, 240], 
[124, 125, 180], 
[132, 133, 180], 
[135, 136, 180], 
[137, 138, 180], 
[142, 144, 240], 
[142, 143, 240], 
[143, 144, 240], 
[148, 149, 180], 
[154, 156, 240], 
[154, 155, 240], 
[155, 156, 240], 
[169, 170, 180], 
[175, 177, 240], 
[175, 176, 240], 
[176, 177, 240], 
[191, 192, 180], 
[196, 197, 180], 
[198, 199, 180], 
[202, 203, 180], 
[206, 208, 300], 
[206, 207, 300], 
[206, 209, 300], 
[207, 208, 300], 
[207, 209, 300], 
[208, 209, 300], 
[212, 214, 300], 
[212, 213, 300], 
[212, 215, 300], 
[213, 214, 300], 
[213, 215, 300], 
[214, 215, 300], 
[219, 220, 180], 
[221, 222, 180], 
[223, 225, 240], 
[223, 224, 240], 
[224, 225, 240], 
[227, 228, 180], 
[231, 232, 180], 
[238, 239, 180], 
[242, 244, 240], 
[242, 243, 240], 
[243, 244, 240], 
[245, 246, 180], 
[247, 248, 180], 
[278, 279, 180], 
[281, 282, 180], 
[284, 285, 180], 
[292, 293, 180], 
[295, 296, 180], 
[298, 299, 180], 
[303, 304, 180], 
[309, 310, 180], 
[311, 313, 300], 
[311, 312, 300], 
[311, 314, 300], 
[311, 315, 300], 
[312, 313, 300], 
[312, 314, 300], 
[312, 315, 300], 
[313, 314, 300], 
[313, 315, 300], 
[314, 315, 300], 
[325, 327, 240], 
[325, 326, 240], 
[326, 327, 240], 
[339, 341, 240], 
[339, 340, 240], 
[340, 341, 240], 
[342, 344, 240], 
[342, 343, 240], 
[343, 344, 240], 
[346, 347, 180], 
[354, 355, 180], 
[366, 367, 180]
]

#fonctions
def voisins_par_sommets(liens): #création du graphe non orienté
    voisins = dict()
    for lien in liens:
        try:
            if voisins[lien[0]] != None:#on note les liens dans un sens 
                voisins[lien[0]].update({lien[1]: lien[2]})
            else:
                voisins[lien[0]]= {lien[1]: lien[2]}
        except:
            voisins[lien[0]]= {lien[1]: lien[2]}
        try:
            if voisins[lien[1]] != None:#on note les liens dans l'autre sens
                voisins[lien[1]].update({lien[0]: lien[2]})
            else:
                voisins[lien[1]]= {lien[0]: lien[2]}
        except:
            voisins[lien[1]]= {lien[0]: lien[2]}
    return voisins

def dikjtra(Graphe, Depart, Arriver):
    temps =  {x:float('inf') for x in Graphe.keys()}#tout les temp a l'infinie
    temps[Depart] = 0
    peres = {x:None for x in Graphe.keys()} #tout les pere en None
    a_traiter = [(0, Depart)]
    dejaTraite = {x:False for x in Graphe.keys()} #tout les stations en non traité
    while a_traiter:
        temp_noeud, noeud = a_traiter.pop()      
        if not dejaTraite[noeud]:
            dejaTraite[noeud] = True
            for voisin in Graphe[noeud].keys():
                temp_voisin = temp_noeud + Graphe[noeud][voisin]
                if temp_voisin < temps[voisin]:
                    temps[voisin] = temp_voisin
                    peres[voisin] = noeud
                    a_traiter.append((temp_voisin, voisin))
        a_traiter.sort(reverse=True)
    itineraire = [Arriver]
    repere = Arriver
    Lepere = None
    while repere != Depart: #on remonte les peres
        for fils,pere in peres.items():
            if fils == repere:
                itineraire.append(pere)
                Lepere = pere
        repere = Lepere
    return temps[Arriver],itineraire[::-1]

def trajet(depart,arriver):
    nums_station = {}
    for numero,nom in dico_num_station.items(): #a partir des nom des station on trouve leur numeros
        if nom == depart:
            if nom in nums_station:
                nums_station[nom].append(numero)
            else:
                nums_station[nom] = [numero]
        if nom == arriver:
            if nom in nums_station:
                nums_station[nom].append(numero)
            else:
                nums_station[nom] = [numero]
    graphe = voisins_par_sommets(liens)
    itineraires = {}
    for numd in nums_station[depart]: # avec les numeros on teste tout les itineraires possible
        for numa in nums_station[arriver]:
            temp, itineraire = dikjtra(graphe,numd,numa)
            itineraires.update({temp:itineraire})
    temp_min = min([_ for _ in itineraires.keys()]) #on prend l'itineraire avec le temp minimum
    return itineraires[temp_min],temp_min

lignes_de_metro = {
'ligne 1': [130, 102, 252, 166, 258, 6, 55, 127, 109, 50, 77, 356, 227, 173, 67, 135, 331, 16, 119, 295, 212, 275, 328, 43, 66], 
'ligne 2': [256, 362, 56, 351, 85, 204, 366, 302, 246, 27, 239, 5, 13, 151, 339, 142, 75, 21, 86, 211, 284, 235, 1, 12, 213], 
'ligne 3': [251, 4, 171, 264, 286, 370, 189, 367, 103, 327, 132, 223, 289, 38, 336, 309, 8, 350, 312, 229, 305, 285, 115, 263, 114], 
'ligne 3bis': [279, 320, 233, 116], 
'ligne 4': [268, 337, 192, 64, 14, 124, 121, 65, 342, 310, 375, 165, 70, 73, 330, 222, 323, 334, 333, 208, 361, 292, 95, 210, 3, 262], 
'ligne 5': [28, 29, 374, 134, 270, 226, 160, 143, 340, 125, 122, 140, 313, 219, 297, 40, 17, 288, 118, 329, 46, 242],
'ligne 6': [57, 150, 30, 354, 230, 26, 98, 155, 45, 348, 232, 209, 101, 293, 96, 324, 128, 83, 243, 216, 62, 287, 23, 97, 93, 19, 236, 214], 
'ligne 7': [152, 108, 10, 277, 82, 87, 300, 341, 169, 63, 123, 250, 44, 162, 59, 224, 282, 228, 255, 71, 254, 345, 149, 241, 49, 164, 244, 352, 184, 260, 266, 261, 237, 179, 161, 364, 365, 363], 
'ligne 7bis': [170, 144, 31, 41, 34, 248, 92, 280], 
'ligne 8': [240, 172, 35, 111, 76, 156, 371, 158, 138, 79, 177, 225, 298, 303, 32, 343, 314, 107, 335, 61, 18, 163, 105, 296, 205, 94, 200, 257, 265, 167, 53, 372, 186, 185, 91, 90, 89], 
'ligne 9': [253, 25, 193, 271, 104, 199, 197, 141, 291, 157, 306, 355, 139, 2, 110, 332, 203, 317, 133, 60, 299, 304, 33, 344, 315, 220, 316, 369, 58, 307, 215, 42, 190, 269, 301, 88, 181], 
'ligne 10': [37, 36, 198, 52, 201, 259, 196, 373, 145, 54, 11, 154, 349, 99, 358, 346, 174, 221, 74, 195, 47, 148, 117], 
'ligne 11': [68, 136, 290, 7, 311, 129, 20, 283, 146, 247, 357, 278, 183], 
'ligne 12': [276, 194, 191, 147, 159, 0, 238, 322, 217, 353, 325, 175, 78, 9, 338, 308, 347, 294, 218, 206, 106, 231, 368, 360, 80, 274, 81, 178], 
'ligne 13': [112, 180, 267, 39, 319, 15, 318, 48, 182, 126, 272, 131, 153, 245, 168, 326, 202, 51, 137, 359, 321, 100, 207, 113, 234, 249, 273, 187, 188, 72], 
'ligne 14': [176, 281, 69, 120, 22, 84, 24]
}


def changement(trajet_nums):
    lignes = []
    for num in trajet_nums:
        for ligne,stations in lignes_de_metro.items():
            for station in stations:
                if num == station:
                    lignes.append([num,ligne])
    # exemple: lignes =[[275, 'ligne 1'], [212, 'ligne 1'], [214, 'ligne 6'], [236, 'ligne 6']]

    lignes_ordonné = {}
    for index,line in enumerate(lignes):
        if line[0] in lignes_ordonné:
            lignes_ordonné[line[0]].update(index)
        else:
            lignes_ordonné[line[0]] = index
    # exemple:lignes_ordonné = {275: 3, 212: 4, 214: 5, 236: 6} 

    ordre = {num_station:index for index,num_station in enumerate(lignes_de_metro[lignes[0][1]])}
    """ exemple ordre ={130: 0, 102: 1, 252: 2, 166: 3, 258: 4, 6: 5, 55: 6, 127: 7, 109: 8, 50: 9,
     77: 10, 356: 11, 227: 12, 173: 13, 67: 14, 135: 15, 331: 16, 16: 17, 119: 18, 295: 19, 212: 20,
     275: 21, 328: 22, 43: 23, 66: 24}"""

    ordre_liste = [[num_station,index] for index,num_station in enumerate(lignes_de_metro[lignes[0][1]])]
    """ exemple ordre_liste = [[130, 0], [102, 1], [252, 2], [166, 3], [258, 4], [6, 5], [55, 6],
    [127, 7], [109, 8], [50, 9], [77, 10], [356, 11], [227, 12], [173, 13], [67, 14], [135, 15],
    [331, 16], [16, 17], [119, 18], [295, 19], [212, 20], [275, 21], [328, 22], [43, 23], [66, 24]]"""
    
    repere_index = []
    for num_station,index in lignes_ordonné.items():
        for st_line,indx in ordre.items():
            if num_station == st_line:
                repere_index.append([index,indx])
    print('Vous etes à {}'.format(dico_num_station[lignes[0][0]]))
    
    if lignes[0][1] != 'ligne 7' and lignes[0][1] != 'ligne 13': # a cause des fourche sur ces lignes
        if repere_index[0][1] > repere_index[1][1] and repere_index[0][0] > repere_index[1][0]:
            print('Prenez la {} direction {}'.format(lignes[0][1], dico_num_station[ordre_liste[-1][0]]))
        elif repere_index[0][1] > repere_index[1][1] and repere_index[0][0] < repere_index[1][0]:
            print('Prenez la {} direction {}'.format(lignes[0][1], dico_num_station[ordre_liste[0][0]]))
        elif repere_index[0][1] < repere_index[1][1] and repere_index[0][0] < repere_index[1][0]:
            print('Prenez la {} direction {}'.format(lignes[0][1], dico_num_station[ordre_liste[-1][0]]))
        elif repere_index[0][1] < repere_index[1][1] and repere_index[0][0] > repere_index[1][0]:
            print('Prenez la {} direction {}'.format(lignes[0][1], dico_num_station[ordre_liste[0][0]]))
    
    elif lignes[0][1] == 'ligne 7':
        if repere_index[0][1] > repere_index[1][1] and repere_index[0][0] > repere_index[1][0]:
            if 260 in trajet_nums:
                print('Prenez la {} direction {}'.format(lignes[0][1], dico_num_station[179]))
            elif 161 in trajet_nums:
                print('Prenez la {} direction {}'.format(lignes[0][1], dico_num_station[363]))
            else:
                print('Prenez la {} direction {} ou {}'.format(lignes[0][1], dico_num_station[179], dico_num_station[363]))
        elif repere_index[0][1] < repere_index[1][1] and repere_index[0][0] < repere_index[1][0]:
            if 260 in trajet_nums:
                print('Prenez la {} direction {}'.format(lignes[0][1], dico_num_station[179]))
            elif 161 in trajet_nums:
                print('Prenez la {} direction {}'.format(lignes[0][1], dico_num_station[363]))
            else:
                print('Prenez la {} direction {} ou {}'.format(lignes[0][1], dico_num_station[179], dico_num_station[363]))
        elif repere_index[0][1] > repere_index[1][1] and repere_index[0][0] < repere_index[1][0]:
            print('Prenez la {} direction {}'.format(lignes[0][1], dico_num_station[ordre_liste[0][0]]))
        elif repere_index[0][1] < repere_index[1][1] and repere_index[0][0] > repere_index[1][0]:
            print('Prenez la {} direction {}'.format(lignes[0][1], dico_num_station[ordre_liste[0][0]]))
    
    elif lignes[0][1] == 'ligne 13':
        if repere_index[0][1] > repere_index[1][1] and repere_index[0][0] > repere_index[1][0]:
            print('Prenez la {} direction {}'.format(lignes[0][1], dico_num_station[ordre_liste[-1][0]]))
        elif repere_index[0][1] < repere_index[1][1] and repere_index[0][0] < repere_index[1][0]:
            print('Prenez la {} direction {}'.format(lignes[0][1], dico_num_station[ordre_liste[-1][0]]))
        elif repere_index[0][1] > repere_index[1][1] and repere_index[0][0] < repere_index[1][0]:
            if 39 in trajet_nums:
                print('Prenez la {} direction {}'.format(lignes[0][1], dico_num_station[112]))
            elif 131 in trajet_nums:
                print('Prenez la {} direction {}'.format(lignes[0][1], dico_num_station[319]))
            else:
                print('Prenez la {} direction {} ou {}'.format(lignes[0][1], dico_num_station[112], dico_num_station[319]))
        elif repere_index[0][1] < repere_index[1][1] and repere_index[0][0] > repere_index[1][0]:
            if 39 in trajet_nums:
                print('Prenez la {} direction {}'.format(lignes[0][1], dico_num_station[112]))
            elif 131 in trajet_nums:
                print('Prenez la {} direction {}'.format(lignes[0][1], dico_num_station[319]))
            else:
                print('Prenez la {} direction {} ou {}'.format(lignes[0][1], dico_num_station[112], dico_num_station[319]))
    
    repere_ligne = lignes[0][1]
    for index,ligne in enumerate(lignes):
        if ligne[1] != repere_ligne:
            repere_ligne = ligne[1]
            ordre_changement = {num_station:index for index,num_station in enumerate(lignes_de_metro[repere_ligne])}
            ordre_liste_changement = [[num_station,index] for index,num_station in enumerate(lignes_de_metro[repere_ligne])]
            repere_index_changement = []
            for num_station,index in lignes_ordonné.items():
                for st_line,indx in ordre_changement.items():
                    if num_station == st_line:
                        repere_index_changement.append([index,indx])
            
            if repere_ligne != 'ligne 7' and repere_ligne != 'ligne 13':
                if repere_index_changement[0][1] > repere_index_changement[1][1] and repere_index_changement[0][0] > repere_index_changement[1][0]:
                    print('A {} changez et prenez la {} direction {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[ordre_liste_changement[-1][0]]))
                elif repere_index_changement[0][1] > repere_index_changement[1][1] and repere_index_changement[0][0] < repere_index_changement[1][0]:
                    print('A {} changez et prenez la {} direction {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[ordre_liste_changement[0][0]]))
                elif repere_index_changement[0][1] < repere_index_changement[1][1] and repere_index_changement[0][0] < repere_index_changement[1][0]:
                    print('A {} changez et prenez la {} direction {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[ordre_liste_changement[-1][0]]))
                elif repere_index_changement[0][1] < repere_index_changement[1][1] and repere_index_changement[0][0] > repere_index_changement[1][0]:
                    print('A {} changez et prenez la {} direction {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[ordre_liste_changement[0][0]]))
            
            elif repere_ligne == 'ligne 7':
                if repere_index_changement[0][1] > repere_index_changement[1][1] and repere_index_changement[0][0] > repere_index_changement[1][0]:
                    if 260 in trajet_nums:
                        print('A {} changez et prenez la {} direction {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[179]))
                    elif 161 in trajet_nums:
                        print('A {} changez et prenez la {} direction {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[363]))
                    else:
                        print('A {} changez et prenez la {} direction {} ou {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[179], dico_num_station[363]))
                elif repere_index_changement[0][1] < repere_index_changement[1][1] and repere_index_changement[0][0] < repere_index_changement[1][0]:
                    if 260 in trajet_nums:
                        print('A {} changez et prenez la {} direction {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[179]))
                    elif 161 in trajet_nums:
                        print('A {} changez et prenez la {} direction {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[363]))
                    else:
                        print('A {} changez et prenez la {} direction {} ou {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[179], dico_num_station[363]))
                elif repere_index_changement[0][1] > repere_index_changement[1][1] and repere_index_changement[0][0] < repere_index_changement[1][0]:
                    print('A {} changez et prenez la {} direction {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[ordre_liste[0][0]]))
                elif repere_index_changement[0][1] < repere_index_changement[1][1] and repere_index_changement[0][0] > repere_index_changement[1][0]:
                    print('A {} changez et prenez la {} direction {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[ordre_liste[0][0]]))

            elif repere_ligne == 'ligne 13':
                if repere_index_changement[0][1] > repere_index_changement[1][1] and repere_index_changement[0][0] > repere_index_changement[1][0]:
                    print('A {} changez et prenez la {} direction {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[ordre_liste[-1][0]]))
                elif repere_index_changement[0][1] < repere_index_changement[1][1] and repere_index_changement[0][0] < repere_index_changement[1][0]:
                    print('A {} changez et prenez la {} direction {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[ordre_liste[-1][0]]))
                elif repere_index_changement[0][1] > repere_index_changement[1][1] and repere_index_changement[0][0] < repere_index_changement[1][0]:
                    if 39 in trajet_nums:
                        print('A {} changez et prenez la {} direction {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[112]))
                    elif 131 in trajet_nums:
                        print('A {} changez et prenez la {} direction {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[319]))
                    else:
                        print('A {} changez et prenez la {} direction {} ou {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[112], dico_num_station[319]))
                elif repere_index_changement[0][1] < repere_index_changement[1][1] and repere_index_changement[0][0] > repere_index_changement[1][0]:
                    if 39 in trajet_nums:
                        print('A {} changez et prenez la {} direction {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[112]))
                    elif 131 in trajet_nums:
                        print('A {} changez et prenez la {} direction {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[319]))
                    else:
                        print('A {} changez et prenez la {} direction {} ou {}'.format(dico_num_station[ligne[0]],ligne[1], dico_num_station[112], dico_num_station[319]))
    
    if temp < 3600:
        temp_minutes = int(temp/60)
        print('Vous devriez arriver à {} dans {} minutes'.format(dico_num_station[lignes[len(lignes)-1][0]], temp_minutes))
    else:
        temp_heure = temp//3600
        temp_minutes = int((temp/3600 - temp//3600) * 60)
        print('Vous devriez arriver à {} dans {} heure et {} minutes'.format(dico_num_station[lignes[len(lignes)-1][0]],temp_heure, temp_minutes))


trajet_nums,temp = trajet("Montparnasse Bienvenue","Vavin")
changement(trajet_nums)
